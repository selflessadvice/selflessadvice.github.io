(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[272],{3457:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(1847).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},7364:(e,a,t)=>{Promise.resolve().then(t.bind(t,8829))},8829:(e,a,t)=>{"use strict";t.d(a,{DonationForm:()=>u});var r=t(5155),s=t(2115),l=t(3457),n=t(1847);let o=(0,n.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),i=(0,n.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var c=t(1733);let d=[{value:5,label:"$5"},{value:10,label:"$10"},{value:25,label:"$25"},{value:50,label:"$50"},{value:100,label:"$100"},{value:0,label:"Custom"}];function u(){let[e,a]=(0,s.useState)(25),[t,n]=(0,s.useState)(""),[u,m]=(0,s.useState)(!1),[x,h]=(0,s.useState)({donorName:"",donorEmail:"",message:"",anonymous:!1}),g=()=>0===e?parseFloat(t)||0:e,p=async e=>{e.preventDefault();let a=g();if(a<1)return void alert("Please enter a valid donation amount");m(!0);try{let e=await fetch("/api/donations/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:a,currency:"USD",...x})});if(!e.ok)throw Error("Failed to create checkout session");let{checkoutUrl:t}=await e.json();window.location.href=t}catch(e){console.error("Error creating donation:",e),alert("Something went wrong. Please try again.")}finally{m(!1)}},y=g();return(0,r.jsxs)(c.P.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:p,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Choose your donation amount"}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-3 mb-4",children:d.map(t=>(0,r.jsx)("button",{type:"button",onClick:()=>{var e;a(e=t.value),e>0&&n("")},className:"p-3 rounded-lg border-2 transition-all ".concat(e===t.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"),children:t.label},t.value))}),0===e&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,r.jsx)("input",{type:"number",value:t,onChange:e=>n(e.target.value),placeholder:"Enter amount",min:"1",step:"0.01",className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Donor Information (Optional)"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)("input",{type:"text",value:x.donorName,onChange:e=>h(a=>({...a,donorName:e.target.value})),placeholder:"Your name",className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,r.jsx)("input",{type:"email",value:x.donorEmail,onChange:e=>h(a=>({...a,donorEmail:e.target.value})),placeholder:"Your email",className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsx)("textarea",{value:x.message,onChange:e=>h(a=>({...a,message:e.target.value})),placeholder:"Share a message or why you're supporting us (optional)",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:x.anonymous,onChange:e=>h(a=>({...a,anonymous:e.target.checked})),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"Make this donation anonymous"})]})]}),y>0&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-700",children:"Donation Amount:"}),(0,r.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:["$",y.toFixed(2)]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Your donation helps us continue providing free, life-changing content to people worldwide."})]}),(0,r.jsx)("button",{type:"submit",disabled:u||y<1,className:"w-full py-4 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-lg hover:from-red-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center font-medium text-lg shadow-lg hover:shadow-xl",children:u?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Processing..."]}):(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(l.A,{className:"w-5 h-5 mr-2"}),"Donate $",y.toFixed(2)]})}),(0,r.jsxs)("div",{className:"flex items-center justify-center text-sm text-gray-600",children:[(0,r.jsx)(o,{className:"w-4 h-4 mr-2"}),(0,r.jsx)("span",{children:"Secure payment powered by Stripe"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-4 pt-4 border-t border-gray-200",children:[(0,r.jsx)(i,{className:"w-8 h-8 text-gray-400"}),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"We accept all major credit cards and PayPal"})]})]})}}},e=>{e.O(0,[559,441,255,358],()=>e(e.s=7364)),_N_E=e.O()}]);